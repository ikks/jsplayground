<html>
<body>
<h1>Cows n Bulls</h1>
<p>You are guessing a number of <span data-bind="text: sizecnb"></span> digits
<p>Cows: <span data-bind="text: cows"></span>
<p>Bulls: <span data-bind="text: bulls"></span>
<p>Your guess:<input data-bind="value: guess">
<p>Attempts: <span data-bind="text: attempts"></span>
<p data-bind="visible: won" style="display:none;">Winner!!!!!!</p>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
<script type="text/javascript" src="cowsnbulls.js"></script>
<script type="text/javascript">
var ViewModel = function(nthing) {
	var self = this;
	var logic = new CowsBulls(nthing);

	self.won =  ko.observable(false);
	self.cows = ko.observable(0);
	self.bulls = ko.observable(0);
	self.attempts = ko.observable(0);
	self.sizecnb = ko.observable(nthing);
	self.guess = ko.computed({
		read: function() {
			return '';
		},
		write: function(value) {
			result = logic.guess(value);
			self.won(logic.won());
			self.bulls(result[0]);
			self.cows(result[1]);
			self.attempts(logic.attempts.length);
		}
	});
	
}
ko.applyBindings(new ViewModel(4));
</script>
</body>
</html>